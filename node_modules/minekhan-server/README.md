# This package is used for making a server on [MineKhan](https://minekhan.thingmaker.repl.co)

# First things
First, install the package.
```
npm install minekhan-server
```
Then, add this to your code. You will need a server.
```js
const express = require('express');
const app = express();
const MineKhanServer = require("minekhan-server");

let serverPort = app.listen(3000, function(){
  console.log("App server is running on port 3000");
});
app.use("/info",(req,res) => {
  res.json(mkServer.getInfo());
})
```
Now choose the name and description of you server. Add this to your code and customize it:
```js
const mkServer = MineKhanServer(server, name, description, {
  thumbnail: image URL, //(Optional) The thumbnail of the server
  saveActivity:true //(Optional) Should it add any activity to the log?
})
```

If you want your server to have a world loaded when someone joins, you should create a room.
# Creating a room
Room means a world.  
This is how you create a room. You can customize it.
```js
var room = mkServer.createRoom("lobby", {
  code:your save code,
  spawn: [x,y,z], //(Optional) Where will the players spawn when they go to this room?
  canEdit:false, //(Optional) Can the players change anything in the room?
  autosave:false, //(Optional) Should changes in this room be saved?
})
```
If you want the players to go to another room when in a specific place, for example: when players go in a portal, add this to your code and customize it:
```js
room.addPortal(room name, coordinates)
```
If you want a function to be done when a player goes to a specific place, add this to your code and customize it:
```js
room.addPortal(function(player){
  //do something
}, coordinates)
```
Coordinates should be like this: x,y,z,x,y,z
You could also add text to the room. To add text, add this to your code and customize it.
```
room.addText(x,y,z,text,color,background,size)
```
Color should be an array with three numbers from 0 to 1.  
Background should be an array with four numbers from 0 to 1.
# What to do when players join
When players join this server, nothing happens, so you should send them to a room when they join.
This code will do that:
```js
mkServer.on("join", function(player){
  player.goToRoom(room name)
})
```
Replace room name with the name of the room you want the player to go to when they join.
# Functions
Here is a list of functions:
```js
mkServer.getLog()
mkServer.getInfo()
mkServer.createRoom(name, options)
mkServer.getRoom(name)
mkServer.deleteRoom(name)
room.addPortal(name, x,y,z, x,y,z)
room.setBlock(x,y,z,block id)
player.sendJson(object)
player.close()
```
# Example
Click [here](https://replit.com/@MineKhan/mkServer?v=1) to see an example